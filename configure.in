dnl Process this file with autoconf to produce a configure script.
##
## This file is part of jwhois
## Copyright (C) 1999  Jonas Öberg
##
## This program is free software; you can redistribute it and/or modify
## it under the terms of the GNU General Public License as published by
## the Free Software Foundation; either version 2 of the License, or
## (at your option) any later version.
##
## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.
##
## You should have received a copy of the GNU General Public License
## along with this program; if not, write to the Free Software
## Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
##
AC_INIT(src/jconfig.c)
AM_INIT_AUTOMAKE(jwhois,2.0)
AM_CONFIG_HEADER(config.h)

AC_ARG_ENABLE(DEFAULTHOST,
[  ­­enable-DEFAULTHOST=HOST   default whois host (default whois.internic.net)],
[AC_DEFINE_UNQUOTED(DEFAULTHOST, "$enable_DEFAULTHOST")],
[AC_DEFINE(DEFAULTHOST, "whois.internic.net")])

AC_PROG_INSTALL
AC_PROG_CC
AM_PROG_LEX
AC_PROG_RANLIB

AC_CHECK_LIB(fl, yywrap)
AC_CHECK_LIB(l, yywrap)
AC_CHECK_LIB(nsl, gethostbyname)
AC_CHECK_LIB(socket, connect)

AC_CHECK_FUNCS(inet_aton memcpy strtol)
AC_STDC_HEADERS
AC_CHECK_HEADERS(sys/types.h sys/socket.h netinet/in.h netdb.h)

AC_CHECK_FUNCS(strcasecmp)

AC_OUTPUT(Makefile doc/Makefile src/Makefile lib/Makefile)
